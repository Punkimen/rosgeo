const path=require("path"),merge=require("webpack-merge"),baseConfig=require("./webpack.base"),publicUrl=require("./public-url"),joinRoot=path.join.bind(path,__dirname,"..");module.exports=merge(baseConfig,{mode:"development",devtool:"cheap-module-source-map",entry:[`webpack-dev-server/client?${publicUrl(3e3)}`,joinRoot("demo/scripts/index.ts")],output:{path:joinRoot(".tmp"),filename:"app.js",publicPath:"/"},module:{rules:[{test:/\.ts$/,enforce:"pre",use:[{loader:"tslint-loader",options:{formatter:"stylish"}}],include:[joinRoot("src"),joinRoot("demo")]},{test:/\.css$/,use:["style-loader","css-loader"]},{test:/\.styl$/,use:["style-loader","css-loader",{loader:"postcss-loader",options:{sourceMap:!0,plugins:()=>[require("autoprefixer")]}},"stylus-loader"],include:[joinRoot("demo")]}]}});